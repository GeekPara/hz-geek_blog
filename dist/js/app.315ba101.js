(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0d6d35":"6ef3fd0a","chunk-2d21a3d2":"1e2d6a35","chunk-2d22d746":"23734196","chunk-342c269a":"4c2e6c4e","chunk-58de7bcd":"8e0f9104"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var u=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,r[1](u)}a[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);var n,a=r("b85c"),i=(r("96cf"),r("1da1")),o=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("a026")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-app-bar",{attrs:{app:""}},[r("v-container",{staticClass:"py-0 fill-height"},[r("v-app-bar-title",[e._v("衡中极客圈")]),r("v-spacer"),r("v-responsive",{attrs:{"max-width":"260"}},[r("v-text-field",{attrs:{dense:"",filled:"","hide-details":"",rounded:"",clearable:"",placeholder:"搜索...","prepend-inner-icon":"mdi-cloud-search"}})],1)],1)],1),r("v-navigation-drawer",{key:e.isLogin,attrs:{"mini-variant":e.mini,permanent:"",app:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list-item",{staticClass:"px-2"},[e.isLogin?r("v-list-item-avatar",[r("v-img",{attrs:{src:e.loginAvatar}})],1):r("v-list-item-icon",[r("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[r("v-icon",[e._v("mdi-login")])],1)],1),r("v-list-item-title",[e.isLogin?r("span",[e._v(e._s(e.loginUsername))]):r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[e.isLogin?e._e():r("v-btn",e._g(e._b({attrs:{color:"primary",elevation:"2"}},"v-btn",a,!1),n),[e._v("登录")])]}}])},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("登录：衡中极客圈")])]),r("v-card-text",[r("v-container",[r("v-text-field",{attrs:{label:"用户名/邮箱"},model:{value:e.usernameL,callback:function(t){e.usernameL=t},expression:"usernameL"}}),r("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",name:"input-10-1",label:"密码"},on:{"click:append":function(t){e.show1=!e.show1},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.passwordL,callback:function(t){e.passwordL=t},expression:"passwordL"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.login()}}},[e._v("登录")])],1)],1)],1)],1),r("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[r("v-icon",[e._v("mdi-chevron-left")])],1)],1),r("v-divider"),r("v-list",{attrs:{dense:""}},[r("v-list-item",{attrs:{link:"",to:"/"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-home")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Home Page")])],1)],1),e.isLogin?r("v-list-item",{attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("My Account")])],1)],1):e._e(),e.canWrite?r("v-list-item",{attrs:{link:"",to:"/write/new-article"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-pencil")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Write an Article")])],1)],1):e._e(),e.isLogin?r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([e.isLogin?{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-list-item",e._g(e._b({attrs:{link:""}},"v-list-item",a,!1),n),[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Log Out")])],1)],1)]}}:null],null,!0),model:{value:e.dialog.logout,callback:function(t){e.$set(e.dialog,"logout",t)},expression:"dialog.logout"}},[r("v-card",[r("v-card-title",[e._v("你确定不是手滑了嘛")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialog.logout=!1}}},[e._v("我手滑了")]),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.logout()}}},[e._v("确定退出")])],1)],1)],1):e._e(),e.isLogin?e._e():r("v-list-item",{attrs:{link:"",to:"/register"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-plus")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Creat a New Account")])],1)],1)],1)],1),r("v-main",{staticClass:"grey lighten-3"},[r("v-container",[r("transition",{attrs:{name:"fade"}},[r("router-view",{on:{showSnackbar:e.snackbar}})],1)],1),r("v-fab-transition",[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.btnFlag,expression:"btnFlag"}],attrs:{color:"pink",dark:"",bottom:"",right:"",fab:"",fixed:""},on:{click:e.backTop}},[r("v-icon",[e._v("mdi-arrow-up-thick")])],1)],1),r("v-snackbar",{attrs:{timeout:"2000",value:e.theSnackbar.isOpened,color:e.theSnackbar.color}},[e._v(e._s(e.theSnackbar.content))])],1),r("v-footer",{attrs:{color:"primary lighten-1",padless:"",inset:"",app:"",absolute:""}},[r("v-row",{attrs:{justify:"center","no-gutters":""}},[e._l(e.links,(function(t){return r("v-btn",{key:t,staticClass:"my-2",attrs:{color:"white",text:"",rounded:""}},[e._v(e._s(t))])})),r("v-col",{staticClass:"primary lighten-2 py-4 text-center white--text",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),r("strong",[e._v("衡中极客圈")])])],2)],1)],1)},c=[];r("c975");localStorage.setItem("debug","leancloud*");var u={name:"Main",methods:{logout:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.User.logOut(),e.next=3,this.refresh();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.usernameL,r=this.passwordL,""==t||""==r){e.next=29;break}if(e.prev=3,-1==t.indexOf("@")||-1==t.indexOf(".")){e.next=9;break}return e.next=7,n.User.loginWithEmail(t,r);case 7:e.next=11;break;case 9:return e.next=11,n.User.logIn(t,r);case 11:return this.snackbar("登录成功~","success"),e.next=14,this.refresh();case 14:e.next=27;break;case 16:if(e.prev=16,e.t0=e["catch"](3),216!=e.t0.code){e.next=20;break}return e.abrupt("return",this.snackbar("您的邮箱还未验证","error"));case 20:if(210!=e.t0.code){e.next=22;break}return e.abrupt("return",this.snackbar("用户名或密码不正确","error"));case 22:if(211!=e.t0.code){e.next=24;break}return e.abrupt("return",this.snackbar("该用户不存在","error"));case 24:if(219!=e.t0.code){e.next=26;break}return e.abrupt("return",this.snackbar("密码错误次数过多，15分钟后再试","error"));case 26:return e.abrupt("return",this.snackbar("登录失败，未知原因","error"));case 27:e.next=30;break;case 29:return e.abrupt("return",this.snackbar("请输入用户名和密码~","error"));case 30:case"end":return e.stop()}}),e,this,[[3,16]])})));function t(){return e.apply(this,arguments)}return t}(),sendResetEmail:function(){var e=this;if(!this.emailR)return this.snackbar("请填写邮箱~","error");n.User.requestPasswordReset(this.emailR).then((function(){e.snackbar("重置邮件已发送~","error")}),(function(t){if(219==t.code)return e.snackbar("该邮箱并未注册","error");e.snackbar("发送重置邮件失败，未知原因","error")}))},backTop:function(){var e=this,t=setInterval((function(){var r=Math.floor(-e.scrollTop/5);document.documentElement.scrollTop=document.body.scrollTop=e.scrollTop+r,0===e.scrollTop&&clearInterval(t)}),16)},scrollToTop:function(){var e=this,t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;e.scrollTop=t,e.scrollTop>60?e.btnFlag=!0:e.btnFlag=!1},refresh:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.isEditor();case 2:this.canWrite=e.sent,this.isLogin=this.isLogingIn(),n.User.current()&&(this.loginUsername=this.getUserInfo(n.User.current()).username),n.User.current()&&(this.loginAvatar=this.getUserInfo(n.User.current()).avatar),this.dialog.logOut=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),snackbar:function(e,t){this.theSnackbar.content=e,this.theSnackbar.color=t,this.theSnackbar.isOpened=Math.random()}},watch:{confirm:function(){this.password==this.confirm?(this.confirmError=!1,this.passwordError=!1):this.confirmError=!0},password:function(){this.password==this.confirm?(this.passwordError=!1,this.confirmError=!1):this.passwordError=!0}},computed:{activeFab:function(){switch(this.tabs){case"one":return{class:"purple",icon:"account_circle"};case"two":return{class:"red",icon:"edit"};case"three":return{class:"green",icon:"keyboard_arrow_up"};default:return{}}}},data:function(){return{confirmError:!1,passwordError:!1,loginUsername:null,loginAvatar:null,usernameL:"",emailL:"",passwordL:"",emailR:"",canWrite:!1,isLogin:!1,links:["Dashboard","Messages","Profile","Updates"],fab:!1,drawer:!0,items:[{title:"Home",icon:"mdi-home-city"},{title:"My Account",icon:"mdi-account"},{title:"Users",icon:"mdi-account-group-outline"}],mini:!0,btnFlag:!1,show1:!1,dialog:{logout:!1},theSnackbar:{isOpened:!1,color:"info",content:"This is a snackbar."}}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.AV,e.next=3,this.refresh();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){window.addEventListener("scroll",this.scrollToTop)},destroyed:function(){window.removeEventListener("scroll",this.scrollToTop)}},l=u,p=r("2877"),d=r("6544"),v=r.n(d),m=r("7496"),f=r("40dc"),h=r("bb78"),b=r("8336"),g=r("b0af"),k=r("99d9"),w=r("62ad"),y=r("a523"),x=r("169a"),_=r("ce7e"),L=r("0789"),T=r("553a"),V=r("132d"),O=r("adda"),j=r("8860"),E=r("da13"),R=r("8270"),S=r("5d23"),U=r("34c3"),I=r("f6c4"),A=r("f774"),C=r("6b53"),P=r("0fd9"),F=r("2db4"),M=r("2fa4"),H=r("8654"),W=Object(p["a"])(l,s,c,!1,null,null,null),D=W.exports;v()(W,{VApp:m["a"],VAppBar:f["a"],VAppBarTitle:h["a"],VBtn:b["a"],VCard:g["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VCol:w["a"],VContainer:y["a"],VDialog:x["a"],VDivider:_["a"],VFabTransition:L["c"],VFooter:T["a"],VIcon:V["a"],VImg:O["a"],VList:j["a"],VListItem:E["a"],VListItemAvatar:R["a"],VListItemContent:S["a"],VListItemIcon:U["a"],VListItemTitle:S["b"],VMain:I["a"],VNavigationDrawer:A["a"],VResponsive:C["a"],VRow:P["a"],VSnackbar:F["a"],VSpacer:M["a"],VTextField:H["a"]});r("d3b7");var G=r("8c4f");o["a"].use(G["a"]);var K=[{path:"/",name:"Home",component:function(){return r.e("chunk-2d21a3d2").then(r.bind(null,"bb51"))}},{path:"/about",name:"About",component:function(){return r.e("chunk-2d22d746").then(r.bind(null,"f820"))}},{path:"/article/:onlyTag",name:"Article",component:function(){return r.e("chunk-58de7bcd").then(r.bind(null,"3ad6"))}},{path:"/write/:onlyTag",name:"Write",component:function(){return r.e("chunk-342c269a").then(r.bind(null,"ed6a"))}},{path:"/register",name:"Register",component:function(){return r.e("chunk-2d0d6d35").then(r.bind(null,"73cf"))}}],q=new G["a"]({mode:"history",routes:K}),z=q,B=r("c72e"),N=r.n(B),Y=r("a60c"),$=r.n(Y),J=(r("8143"),r("f309")),Q=r("c0a4"),X=r.n(Q);o["a"].use(J["a"]);var Z=new J["a"]({theme:{themes:{light:{primary:X.a.purple.base,secondary:X.a.blue.base,accent:X.a.lightGreen.base,error:X.a.red.base,warning:X.a.amber.base,info:X.a.cyan.base,success:X.a.green.base}}}}),ee=r("3003"),te=r("6821"),re=r.n(te);N.a.init({appId:"cGsb2KHXLfjY2o1Gg2hOSHgS-gzGzoHsz",appKey:"9nusFqKOHcUvSScKrbfj5wcn",serverURL:"https://cgsb2khx.lc-cn-n1-shared.com"}),o["a"].config.productionTip=!1,o["a"].prototype.AV=N.a,o["a"].prototype.md5=re.a,o["a"].prototype.getUserInfo=function(e){var t,r;return t=e.get("avatar")||"//api.multiavatar.com/".concat(e.get("username"),".svg"),r=e.get("username"),{avatar:t,username:r}},o["a"].prototype.isLogingIn=function(){return!!N.a.User.current()},o["a"].prototype.isEditor=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!N.a.User.current()){e.next=28;break}return e.prev=1,e.next=4,N.a.User.current().getRoles();case 4:t=e.sent,r=Object(a["a"])(t),e.prev=6,r.s();case 8:if((n=r.n()).done){e.next=14;break}if(i=n.value,"Editor"!=i.get("name")){e.next=12;break}return e.abrupt("return",!0);case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return e.abrupt("return",!1);case 25:return e.prev=25,e.t1=e["catch"](1),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,null,[[1,25],[6,16,19,22]])}))),o["a"].prototype.getGithubToken=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(N.a.User.current()){e.next=2;break}return e.abrupt("return");case 2:return t=new N.a.Query("Tokens"),e.prev=3,e.next=6,t.get("603616dc14fdc86b177f0ac1");case 6:return r=e.sent,n=r.get("token"),e.abrupt("return",n);case 11:return e.prev=11,e.t0=e["catch"](3),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),o["a"].use($.a),o["a"].use(ee["a"]),new o["a"]({router:z,vuetify:Z,render:function(e){return e(D)}}).$mount("#app")}});